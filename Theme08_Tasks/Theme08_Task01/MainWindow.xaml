<Window x:Class="Theme08_Task01.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Список товаров" Height="600" Width="400">

    <Grid Margin="5">
        <ListBox ItemsSource="{Binding Products}" 
                 ScrollViewer.HorizontalScrollBarVisibility="Disabled">
            <ListBox.ItemContainerStyle>
                <Style TargetType="ListBoxItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                    <Setter Property="Margin" Value="5"/>
                </Style>
            </ListBox.ItemContainerStyle>

            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border x:Name="ItemBorder"
                            Padding="5"
                            CornerRadius="5"
                            BorderBrush="Gray"
                            BorderThickness="1">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Image Grid.Column="0"
                               Source="{Binding ImagePath}"
                               Width="80"
                               Height="80"
                               Margin="0,0,5,0"
                               Stretch="Uniform"/>

                            <StackPanel Grid.Column="1"
                                    Margin="5,0,0,0"
                                    VerticalAlignment="Center">
                                <TextBlock x:Name="NameText"
                                       Text="{Binding Name}"
                                       FontSize="14"
                                       FontWeight="Bold"/>
                                <TextBlock x:Name="PriceText"
                                       Text="{Binding Price, StringFormat='{}{0:F2} ₽'}"
                                       FontSize="12"/>
                            </StackPanel>
                        </Grid>
                    </Border>

                    <DataTemplate.Triggers>
                        <!-- Триггер для Food. -->
                        <DataTrigger Binding="{Binding Category}" Value="Food">
                            <DataTrigger.Setters>
                                <Setter Property="Background" Value="LightGreen" TargetName="ItemBorder"/>
                            </DataTrigger.Setters>
                        </DataTrigger>

                        <!-- Триггер для Appliances. -->
                        <DataTrigger Binding="{Binding Category}" Value="Appliances">
                            <DataTrigger.Setters>
                                <Setter Property="Background" Value="LightBlue" TargetName="ItemBorder"/>
                            </DataTrigger.Setters>
                        </DataTrigger>
                    </DataTemplate.Triggers>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Window>